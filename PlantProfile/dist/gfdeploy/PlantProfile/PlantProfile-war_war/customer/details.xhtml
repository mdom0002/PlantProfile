<?xml version='1.0' encoding='UTF-8' ?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"      
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <h:outputStylesheet library="css" name="bootstrap.min.css"></h:outputStylesheet>
        <title>#{titleController.pageTitle}</title> 
        <style>               
       .Bimage{background-image:url(#{request.contextPath}/resources/images/bg13.jpg);}
           
        </style>
    </h:head>
    <h:body styleClass="Bimage" style="color:black">
        <h:form id="MyForm"> 
        <div class="container">
            <div class="navbar navbar-inverse">
                <div class="navbar-brand">
                    #{titleController.pageTitle} - View Plant &nbsp; &nbsp; &nbsp; &nbsp;
                   <h:commandLink value="Home" action="index.xhtml" />
                   &nbsp; &nbsp; &nbsp; &nbsp;
                   <h:commandLink value="Log out" action="#{loginManagedBean.logout()}" />
                </div>
            </div>
            
                     <h:graphicImage library="images" name="#{plantController.plant.pid}x.jpg" />
                     
                
                <table class="table table-bordered ">
                    <tr>
                        <td width ="150" valign="top">Id:</td>
                        
                        <td valign="bottom">
                           <h:outputLabel id = "pid" >#{plantController.plant.pid}</h:outputLabel>   
                        </td>
                    </tr>
                    
                    <tr>
                        <td width ="100" valign="top">Name:</td>
                        
                        <td valign="bottom">
                            <h:outputLabel id = "name" >#{plantController.plant.name}</h:outputLabel>    
                        </td>
                    </tr>
                    
                     <tr>
                        <td width ="100" valign="top">Color:</td>
                        
                        <td valign="bottom">
                            <h:outputLabel id = "color" >#{plantController.plant.color}</h:outputLabel>    
                        </td>
                    </tr>
                    
                    <tr>
                        <td width ="100" valign="top">Temperature:</td>
                        
                        <td valign="bottom">
                            <h:outputLabel id = "temperature" >#{plantController.plant.temperature}</h:outputLabel>    
                        </td>
                    </tr>
                   
                </table>
                
                
                <table class="table table-bordered table-striped">
                    
                    <tr>
                            <td> 
                                <h:outputLabel id="serialNumber" value="SerialNumber"  />
                            </td>
                            <td> 
                                <h:outputLabel id="height" value="Height"/>
                            </td>
                            <td> 
                                <h:outputLabel id="location" value="Location"/>
                            </td>
                        <td> 
                                <h:outputLabel id="stock" value="Stock"/>
                            </td>
                        
                     </tr>
                    
                    <ui:repeat id="Myrepeat" value="#{plantDetailsApplication.plantDetails}"  var="plantD" varStatus="stat"> 
                        <h:panelGroup rendered="#{plantD.plant.pid eq plantController.plant.pid}">
                        
                        <tr>
                            <td>
                                <h:outputText value="#{plantD.serialNumber}" id="serialNumber" /> 
                                
                            </td>
                            <td>
                                <h:outputText value="#{plantD.height}" id="height" /> 
                                
                            </td>
                            <td>
                                <h:outputText value="#{plantD.location}" id="price"/>
                                
                            </td>
                            <td>
                                <h:outputText value="#{plantD.stock}" id="stock"/> 
                            </td>
                           
                            <td>   
                                <h:panelGroup rendered="#{plantD.user.contact eq request.remoteUser}">
                                 <h:commandButton id="delete" value="DELETE" action = "#{plantDetailsApplication.removePlantDetails(plantD.serialNumber)}" >
                               <f:param name="plantid" value="#{plantDetailsController.plantIndex}" />
                                 </h:commandButton></h:panelGroup>
                            </td>   
                         
                                
                            
                        </tr> </h:panelGroup>
                    </ui:repeat>
                    
                </table>
                     <tr>
                        
                              <h:commandButton value=" Add Details" action="addplantdetails.xhtml" class="btn btn-primary" >
                            <f:param name="plantid" value="#{plantDetailsController.plantIndex}" />
                              </h:commandButton>
                        
                    </tr>
                     <h:commandButton id="Close" value="Close" action="c_plants.xhtml" class="btn btn-primary" >
                    <f:param name="plantid" value="#{plantController.plantIndex + 1}"/>
                </h:commandButton>
             </div> </h:form>
    </h:body>
</html>
